# Quick Seed Test æ— è¾“å‡ºé—®é¢˜è¯Šæ–­

## ğŸ” é—®é¢˜æè¿°

**ç”¨æˆ·æŠ¥å‘Š**ï¼šè¿è¡Œ `python scripts/quick_seed_test.py --scale large --seeds 2026` å¾ˆé•¿æ—¶é—´ä½†æ²¡æœ‰ç»“æœè¾“å‡ºã€‚

## âœ… è¯Šæ–­ç»“æœ

### ç¨‹åºæ²¡æœ‰é—®é¢˜ï¼Œåªæ˜¯ç¼ºå°‘è¿›åº¦æç¤ºï¼

**å®é™…æƒ…å†µ**ï¼š
- âœ… ç¨‹åºæ­£åœ¨æ­£å¸¸è¿è¡Œ
- âœ… ä½†Large scaleæ¯æ¬¡æµ‹è¯•éœ€è¦**3-5åˆ†é’Ÿ**
- âŒ æœŸé—´**å®Œå…¨æ²¡æœ‰è¾“å‡º**ï¼Œçœ‹èµ·æ¥åƒ"å¡ä½"äº†

---

## ğŸ”¬ æ ¹æœ¬åŸå› åˆ†æ

### åŸå› 1ï¼šALNSè¿è¡Œæ—¶é™é»˜ï¼ˆverbose=Falseï¼‰

**ä»£ç ä½ç½®**: `tests/optimization/q_learning/utils.py:98`

```python
alns = MatheuristicALNS(
    distance_matrix=scenario.distance,
    task_pool=task_pool,
    repair_mode="adaptive",
    cost_params=cost_params,
    charging_strategy=charging_strategy,
    use_adaptive=True,
    verbose=False,  # â† é—®é¢˜åœ¨è¿™é‡Œï¼
    adaptation_mode="q_learning",
    hyper_params=tuned_hyper,
)
```

**å½±å“**ï¼š
- ALNSçš„44æ¬¡è¿­ä»£å®Œå…¨é™é»˜
- æ²¡æœ‰è¿›åº¦æ¡ã€æ²¡æœ‰ä¸­é—´ç»“æœ
- çœ‹èµ·æ¥åƒç¨‹åºæŒ‚èµ·

### åŸå› 2ï¼šPythonè¾“å‡ºç¼“å†²

**ä»£ç ä½ç½®**: `scripts/quick_seed_test.py:18-28`

```python
print(f"\n{'='*60}")
print(f"Testing {scale.upper()} scale with different seeds")
print(f"{'='*60}\n")
# â†‘ è¿™äº›è¾“å‡ºå¯èƒ½è¢«ç¼“å†²ï¼Œæ²¡æœ‰ç«‹å³æ˜¾ç¤º

for seed in seeds:
    print(f"\n--- Seed {seed} ---")
    # â†‘ è¿™è¡Œè¾“å‡ºåï¼Œç¨‹åºå°±è¿›å…¥é•¿æ—¶é—´è¿è¡Œ

    _, baseline_q, optimised_q = run_q_learning_trial(...)
    # â†‘ è¿™é‡Œéœ€è¦3-5åˆ†é’Ÿï¼ŒæœŸé—´æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼
```

**é—®é¢˜**ï¼š
- Pythonçš„printé»˜è®¤è¡Œç¼“å†²
- åœ¨é•¿æ—¶é—´è®¡ç®—å‰ï¼Œè¾“å‡ºå¯èƒ½è¢«å»¶è¿Ÿæ˜¾ç¤º

### åŸå› 3ï¼šLarge scaleè¿è¡Œæ—¶é—´é•¿

**æ—¶é—´ä¼°ç®—**ï¼š

| æ­¥éª¤ | æ—¶é—´ | è¯´æ˜ |
|-----|------|------|
| Q-learning (44è¿­ä»£) | 3-5åˆ†é’Ÿ | åŒ…æ‹¬ç ´åã€ä¿®å¤ã€LPæ±‚è§£ |
| Matheuristic (44è¿­ä»£) | 3-5åˆ†é’Ÿ | åŒæ ·çš„æ“ä½œ |
| **æ¯ä¸ªç§å­æ€»è®¡** | **6-10åˆ†é’Ÿ** | å®Œå…¨é™é»˜ï¼ |

**æ‚¨è¿è¡Œ `--seeds 2026`**ï¼š
- åªæœ‰1ä¸ªç§å­
- é¢„è®¡æ—¶é—´ï¼š6-10åˆ†é’Ÿ
- **æœŸé—´0è¾“å‡º** â†’ çœ‹èµ·æ¥åƒå¡ä½

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨æ”¹è¿›ç‰ˆè„šæœ¬ï¼ˆæ¨èï¼‰â­

**æ–°è„šæœ¬**: `scripts/quick_seed_test_verbose.py`

**æ”¹è¿›ç‚¹**ï¼š
1. âœ… æ‰€æœ‰printéƒ½åŠ äº†`flush=True`ï¼ˆå¼ºåˆ¶ç«‹å³è¾“å‡ºï¼‰
2. âœ… å¼€å§‹è¿è¡Œå‰æ‰“å°é…ç½®å’Œé¢„è®¡æ—¶é—´
3. âœ… æ¯ä¸ªæµ‹è¯•å‰æ‰“å°æ—¶é—´æˆ³å’Œæç¤º
4. âœ… æµ‹è¯•å®Œæˆåç«‹å³æ˜¾ç¤ºç»“æœ
5. âœ… æ˜¾ç¤ºè¿è¡Œè€—æ—¶

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# æµ‹è¯•å•ä¸ªç§å­ï¼ˆæ‚¨çš„æƒ…å†µï¼‰
python scripts/quick_seed_test_verbose.py --scale large --seeds 2026

# æµ‹è¯•å¤šä¸ªç§å­
python scripts/quick_seed_test_verbose.py --scale large --seeds 2025 2026 2027
```

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
ğŸš€ Starting seed comparison test
â±ï¸  Expected total time: 6-10 minutes

============================================================
Testing LARGE scale with different seeds
============================================================

Configuration:
  Scale: large
  Seeds: [2026]
  Iterations: Q-learning=44, Matheuristic=44
  Estimated time per seed: 6-10 minutes

============================================================
Seed 2026 (1/1)
============================================================

[14:23:45] Running Q-learning (seed=2026)...
  This will take ~3-5 minutes with no output...
  Please wait patiently...
  âœ“ Completed in 234.5s
  Baseline:    60709.91
  Optimised:   37521.42
  Improvement: 38.21%

[14:27:39] Running Matheuristic (seed=2026)...
  This will take ~3-5 minutes with no output...
  Please wait patiently...
  âœ“ Completed in 218.3s
  Baseline:    52400.92
  Optimised:   35123.45
  Improvement: 32.95%

  Comparison:
    Q-learning:   38.21%
    Matheuristic: 32.95%
    Difference:   +5.26%
    â†’ Q-learning is BETTER âœ“

============================================================
SUMMARY
============================================================
Q-learning:   Mean=38.21%
Matheuristic: Mean=32.95%
Difference:   +5.26%
============================================================

âœ… All tests completed!
```

---

### æ–¹æ¡ˆ2ï¼šä¿®æ”¹åŸè„šæœ¬ï¼ˆä¸æ¨èï¼‰

å¦‚æœæ‚¨æƒ³ç»§ç»­ä½¿ç”¨åŸè„šæœ¬ï¼Œéœ€è¦ï¼š

1. **æ·»åŠ flush=Trueåˆ°æ‰€æœ‰print**
2. **æ·»åŠ è¿›åº¦æç¤º**
3. **æ˜¾ç¤ºæ—¶é—´æˆ³**

ä½†å»ºè®®ç›´æ¥ç”¨æ–°è„šæœ¬ï¼Œæ›´ç®€å•ï¼

---

### æ–¹æ¡ˆ3ï¼šç­‰å¾…åŸè„šæœ¬å®Œæˆ

**å¦‚æœæ‚¨çš„åŸè„šæœ¬è¿˜åœ¨è¿è¡Œ**ï¼š
- âœ… ä¸è¦åœæ­¢å®ƒï¼
- âœ… å®ƒæ­£åœ¨å·¥ä½œï¼Œåªæ˜¯æ²¡æœ‰è¾“å‡º
- âœ… å†ç­‰5-10åˆ†é’Ÿåº”è¯¥ä¼šçœ‹åˆ°ç»“æœ

**å¦‚ä½•ç¡®è®¤å®ƒåœ¨è¿è¡Œ**ï¼š
```bash
# æ£€æŸ¥Pythonè¿›ç¨‹
ps aux | grep quick_seed_test.py

# æ£€æŸ¥CPUä½¿ç”¨ç‡
top -p <pid>

# å¦‚æœCPUä½¿ç”¨ç‡>0%ï¼Œè¯´æ˜åœ¨è¿è¡Œ
```

---

## ğŸ“Š åŸè„šæœ¬çš„å®é™…è¾“å‡ºï¼ˆå¦‚æœç­‰åˆ°ç»“æŸï¼‰

**å‡è®¾seed=2026èƒ½å¤ç°38.1%**ï¼ŒåŸè„šæœ¬æœ€ç»ˆä¼šè¾“å‡ºï¼š

```
============================================================
Testing LARGE scale with different seeds
============================================================

--- Seed 2026 ---
Q-learning:    38.21%
Matheuristic:  32.95%
Difference:    +5.26%

============================================================
SUMMARY
============================================================
Q-learning:   Mean=38.21%
Matheuristic: Mean=32.95%
============================================================
```

ä½†è¿™ä¸ªè¾“å‡ºä¼šåœ¨**6-10åˆ†é’Ÿå**æ‰å‡ºç°ï¼

---

## ğŸ¯ å»ºè®®

### ç«‹å³è¡ŒåŠ¨

**1. åœæ­¢åŸè„šæœ¬ï¼ˆå¦‚æœè¿˜åœ¨è¿è¡Œï¼‰**
```bash
# Ctrl+C æˆ–è€…æ‰¾åˆ°è¿›ç¨‹ID
ps aux | grep quick_seed_test.py
kill <pid>
```

**2. ä½¿ç”¨æ–°çš„verboseç‰ˆæœ¬**
```bash
python scripts/quick_seed_test_verbose.py --scale large --seeds 2026
```

**3. å–æ¯å’–å•¡â˜•ï¼Œç­‰å¾…6-10åˆ†é’Ÿ**
- ç°åœ¨è‡³å°‘èƒ½çœ‹åˆ°è¿›åº¦
- çŸ¥é“ç¨‹åºåœ¨è¿è¡Œ
- ä¸ä¼šè¯¯ä»¥ä¸ºå¡ä½äº†

---

### é•¿æœŸæ”¹è¿›

**å¯¹äºbatch_experiments.py**ï¼š
- åŒæ ·éœ€è¦æ·»åŠ è¿›åº¦æç¤º
- 10ç§å­Ã—2æ–¹æ³•Ã—å¤§è§„æ¨¡ = ~2-3å°æ—¶
- **å¿…é¡»**æœ‰è¿›åº¦æ¡ï¼Œå¦åˆ™çœ‹èµ·æ¥åƒæ­»æœº

**å»ºè®®**ï¼š
1. æ·»åŠ è¿›åº¦æ¡åº“ï¼ˆå¦‚tqdmï¼‰
2. æˆ–è€…å®šæœŸè¾“å‡ºè¿›åº¦ï¼ˆå¦‚"3/10 completed"ï¼‰
3. æ˜¾ç¤ºé¢„è®¡å‰©ä½™æ—¶é—´

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼ˆæœªæ¥ï¼‰

å¦‚æœè§‰å¾—å¤ªæ…¢ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **å¹¶è¡Œè¿è¡Œ**
   - ä¸åŒç§å­å¯ä»¥å¹¶è¡Œ
   - ä½¿ç”¨multiprocessing

2. **å‡å°‘è¿­ä»£æ¬¡æ•°**ï¼ˆç”¨äºå¿«é€Ÿæµ‹è¯•ï¼‰
   - å½“å‰ï¼š44è¿­ä»£
   - å¿«é€Ÿæµ‹è¯•ï¼š20è¿­ä»£ï¼ˆ~2åˆ†é’Ÿï¼‰
   - å®Œæ•´æµ‹è¯•ï¼š44è¿­ä»£ï¼ˆ~5åˆ†é’Ÿï¼‰

3. **ç¼“å­˜ç»“æœ**
   - ä¿å­˜å·²è¿è¡Œçš„ç§å­ç»“æœ
   - é¿å…é‡å¤è¿è¡Œ

ä½†è¿™äº›éƒ½æ˜¯**åç»­ä¼˜åŒ–**ï¼Œç°åœ¨å…ˆç”¨verboseç‰ˆæœ¬è§£å†³ç‡ƒçœ‰ä¹‹æ€¥ï¼

---

## âœ… æ€»ç»“

**é—®é¢˜**ï¼šç¨‹åºæ²¡åï¼Œåªæ˜¯æ²¡æœ‰è¿›åº¦æç¤º
**åŸå› **ï¼šALNSé™é»˜è¿è¡Œ+Pythonè¾“å‡ºç¼“å†²+è¿è¡Œæ—¶é—´é•¿
**è§£å†³**ï¼šä½¿ç”¨ `quick_seed_test_verbose.py`

**å…³é”®æ•™è®­**ï¼š
> é•¿æ—¶é—´è¿è¡Œçš„è„šæœ¬**å¿…é¡»**æœ‰è¿›åº¦æç¤ºï¼Œ
> å¦åˆ™ç”¨æˆ·ä¼šä»¥ä¸ºç¨‹åºå¡ä½äº†ï¼

ç°åœ¨æ‚¨åº”è¯¥èƒ½çœ‹åˆ°å®æ—¶è¿›åº¦äº†ï¼ ğŸ‰
